感谢您的补充说明。下面是修改后的脚本，用于测试本机与11.11.11.1-11.11.11.15的任意设备的连通性，并在连续15分钟无法访问时重启本机。
``` shell
#!/bin/bash

RESTART_COUNT=0
MAX_RESTART_COUNT=15

while true; do
    for i in {1..15}; do
        if ping -c 1 11.11.11.$i >/dev/null; then
            echo "Connected to 11.11.11.$i"
            RESTART_COUNT=0
            break
        fi

        if [ $i -eq 15 ]; then
            echo "Unable to connect to 11.11.11.1-11.11.11.15"
            ((RESTART_COUNT++))
        fi
    done

    if [ $RESTART_COUNT -eq $MAX_RESTART_COUNT ]; then
        echo "Restarting the system..."
        reboot
    fi

    sleep 60
done
``` 
同样，将脚本放置在/etc/init.d/目录下，并设置执行权限：
sudo cp script.sh /etc/init.d/
sudo chmod +x /etc/init.d/script.sh

然后，使用update-rc.d命令将脚本添加到系统启动项中：
sudo update-rc.d script.sh defaults

现在，每次系统重启后，脚本会自动执行，并测试本机与11.11.11.1-11.11.11.15的任意设备的连通性。如果连续15分钟无法访问任何设备，将会重启本机。
请注意，为了能够在脚本中执行重启操作，需要以root权限运行脚本。可以使用sudo命令来运行脚本，或者将脚本添加到root用户的启动项中。
